<h1>API Hub (version 4)</h1>

<p>Just a quick overview of how I got to the 4th version of my API Hub before explaining how to get it up-n-running. The <a href="https://github.com/hdr1001/api_hub_rpr" title="API Hub v1">1st version</a> of this project dates back to August 2019. It supports four APIs, (1) <a href="https://directplus.documentation.dnb.com/" title="Direct+">D&amp;B Direct+</a>, (2) <a href="https://docs.dnb.com/direct/2.0/en-US/quick-soap-API" title="Direct 2.0">D&amp;B Direct 2.0</a>, (3) <a href="https://toolkit-api.dnb.com/" title="Toolkit">D&amp;B Toolkit</a> and (4) <a href="https://www.gleif.org/en/" title="Global Legal Entity Identifier Foundation">GLEIF</a>. Last code commit was in May 2020, at that time I had already commenced work on the <a href="https://github.com/hdr1001/api_hub_rpr_v3x" title="API Hub v3">3rd version</a> of the project. In all honesty I can not remember what happened to the 2nd version. The 3rd version of the project was supposed to be more modular than the 1st (and it was) but it became too abstract. As a result I started developing more off-the-cuff proof of concepts in a <a href="https://github.com/hdr1001/dnbDplUtils" title="D&amp;B Direct+ Utilities">separate repository</a> which worked great but, in the end, I wanted to get back to one big codebase. The same is true for the frontend piece. I have done smaller user interface projects (<a href="https://github.com/hdr1001/api_hub_rpr_ui" title="API Hub UI">here</a> &amp; <a href="https://github.com/hdr1001/dnbdplui" title="D&amp;B Data Block UI">here</a>) but not as part of a larger, integrated approach. In its <a href="https://github.com/hdr1001/api_hub_rpr_v4" title="API Hub - Request, Persist & Respond (v4)">latest iteration</a> my API Hub has a Node.js, Express and PostgreSQL backend and a React and Material UI based frontend and is supposed to replace all repositories referenced above.</p>

<p>It is possible to start using the 4th version of my API Hub today but please note that, on both the frontend and backend parts of the project, a lot of work is still needed. To get a feel for the current state of affairs, first clone the repository as available on GitHub:

   <code>cd ~/Documents/dev</code>

   <code>git clone https://github.com/hdr1001/api_hub_rpr_v4</code>
   
   <code>cd api_hub_rpr_v4</code>
   
   <code>cp dotEnv .env</code>
   
   <code>vim .env</code>
</p>

<p class="no-indent">The commands above assume that the .env file will be edited using vim but, of course, you can use any text editor you like. At this time application configuration is solely concerned with setting values for parameters in the .env file. The <a href="https://github.com/hdr1001/api_hub_rpr_v4/blob/main/dotEnv" title=".env defaults">dotEnv</a> file from the GitHub repo contains some default values but filling out a <a href="https://www.postgresql.org/" title="PostgreSQL: The World's Most Advanced Open Source Relational Database">PostgreSQL</a> username and password is mandatory. Save &amp; close the updated .env file when done.</p>

<p class="no-indent">For the next steps to succeed both <a href="https://www.docker.com/" title="Accelerate how you build, share &amp; run applications">Docker</a> and <a href="https://docs.docker.com/compose/" title="Docker Compose is a tool for defining &amp; running multi-container apps">Docker Compose</a> must be <a class="blog_anchor" title="Setting up my dev environment, Docker" href="dev_tools_pt2.html">installed</a>.</p>

<ol>
   <li>
      Build the containers that make up the application:
      <code>docker-compose build</code>

      <img src="./assets/imgs/dkrcmpsbld.png" alt="Execute docker-compose build" style="margin-top: 0; padding-top: 0;">
   </li><li>
      Run the multi-container application:

      <code>docker-compose up -d</code>

      <img src="./assets/imgs/dkrcmpsrun.png" alt="Execute docker-compose up -d">
   </li><li>
      Perform a minimal check using, for instance, a web browser:

      <img src="./assets/imgs/dkrcmps200.png" alt="Request about">
   </li><li>
      The services can be brought down again using:

      <code>docker-compose down</code>
   </li>
</ol>

<p class="no-indent">Just speaking for myself, üÜô&amp;üèÉ in no time! ü§ì</p>
