<h1>Standalone PostgreSQL container</h1>

<p>I'm moving along nicely with my plan to Dockerize my development stack. With both <a class="blog_anchor" title="Making my Apache container part of a Docker Compose project" href="dkr_compose_pt1.html">Apache</a> &amp; <a class="blog_anchor" title="Docker Compose, adding Node.js" href="dkr_compose_pt2.html">Node.js</a> ticked off the list there is just one major component left, <a href="https://www.postgresql.org/" title="The World's Most Advanced Open Source Relational Database">PostgreSQL</a>. In this post I will therefore make a start with implementing my <a class="blog_anchor" title="PostgreSQL, my RDBMS of choice" href="postgresql_rdbms.html">favourite RDBMS</a> as a standalone <a href="https://www.docker.com/resources/what-container" title="Package Software into Standardized Units">Docker container</a>.</p>

<p>Of course the first thing to decide is which image version, as available on <a href="https://hub.docker.com/_/postgres/" title="PostgreSQL, the official image on Docker Hub">Docker Hub</a>, to use. I opted for <a href="https://github.com/docker-library/postgres/blob/7c287e7800dc08743da8d6372ab752e5438f662b/10/alpine/Dockerfile" title="Postgres v10.6 Alpine Dockerfile">10.6 Alpine</a>. In my opinion this version strikes, at the (very) beginning of 2019, a good balance between being pretty up-to-date while, at the same time, guaranteeing excellent stability. As for <a href="https://alpinelinux.org/about/" title="Small. Simple. Secure.">Alpine</a>, I have explained my <a href="http://bit.ly/2PyHGQv" title="The 3 Biggest Wins When Using Alpine">preference</a> for this type of container <a class="blog_anchor" title="Getting started with Docker" href="docker_pt1.html">before</a>.</p>

<p>With this out of the way &amp; with directory dnb_dpl_v2 as my active directory, I could immediately get cracking: <code>mkdir postgres &amp;&amp; cd $_</code>Next I created a Dockerfile in directory postgres: <code>vim Dockerfile</code>The first version of the Dockerfile contained just a single line of code: <code>FROM postgres:10.6-alpine</code>This was sufficient to create a Docker image: <code>docker build -t $USER/postgres .</code>Everything was now ready to create &amp; launch a PostgreSQL container: <code>docker run --name dkr-postgres -p 5432:5432 -d $USER/postgres</code>Upon startup the container log checked out okay except for the warning that "no password has been set":<code>docker logs dkr-postgres</code>To dig a little deeper I switched to the container's command line interface by issuing command: <code>docker exec -it dkr-postgres /bin/bash</code>From here I was able to start psql. This is the terminal-based front-end to PostgreSQL: <code>psql -U postgres</code>At the psql prompt I requested more information about the applicable copyright &amp; distribution terms: <code>\copyright</code><img src="./assets/imgs/psql_cr.png" alt="psql copyright notification">All in all this convinced me the container was functioning properly. So I quit psql: <code>\q</code>... and exited the container's command line prompt: <code>exit</code>Because I was done with this version of the container I stopped: <code>docker stop dkr-postgres</code>... removed it: <code>docker rm dkr-postgres</code></p>
